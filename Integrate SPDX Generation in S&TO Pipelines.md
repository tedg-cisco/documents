# __<p align="center">Integrate SPDX Generation in S&TO Pipelines</p>__

## Overview
This document describes an approach to integrating Software Package Data Exchange (SPDX) generation tools into Cisco's engineering build environments and package managers. This process will ensure that SPDX documents are generated automatically during the build process, facilitating license compliance and security management and increasing SBOM accuracy. Below is a detailed plan to illustrate the integration steps.

### Step 1: Assess Current Build Environments and Package Managers

**Identify S&TO Build Environments To Partner With**:
   - Create a list of all S&TO development teams and their build environments.
      - BES team has volunteered to be the pilot partner.

**Identify Build Environments**:
   - Create a list of the majority of build environments used (e.g., Jenkins, GitHub Actions, CircleCI, GitLab CI).
   - Document the build processes and workflows.
      - Initially work with one or two select teams as a trial.

**Identify Package Managers**:
   - List all package managers (e.g., npm, Maven, Gradle, pip, Cargo) used.
   - Document the current usage patterns and configurations.

### Step 2: Select SPDX Generation Tools

**Research Available Tools**:
   - Investigate SPDX generation tools compatible with the dev team's environments, package managers, and programming language(s)
      - Examples of SPDX tools are SPDX-sbom-generator, FOSSology, Tern, etc.  
      - Note: CycloneDX generation tools will not be supported for internally generated SBOMs.

**Evaluate Tools**:
   - Evaluate the SPDX tools based on ease of integration, support for package managers, community support, and compatibility with workflows.
   - Different teams may find different tools work best for them.

**Evaluate Tool Output**:
   - Evaluate the SPDX files generated by the tools.
   - Compare the SBOMs generated with the current product SBOMs in Corona
      - The results should show improvement in the accuracy of the binary scan SBOMs in Corona
         - Note that the SBOMs in Corona are not only created using binary scans.  Multiple 3rd party tools are used.  Results may vary.  

**Select Tools**:
   - Choose tool(s) that best fit a particular development team’s needs.
      - We should encourage teams to use the same SPDX generation tools, especially if there is a variance in the resulting accuracies.

### Step 3: Pilot Integration

**Create a Pilot Plan**:
   - Select representative projects for the pilot.
   - Define success criteria (e.g., successful SPDX generation, minimal disruption, SBOM accuracy).

**Integrate SPDX Generation in CI/CD**:
   - Update the CI/CD pipeline scripts to include SPDX generation.
   - Example for Jenkins using XYZ:
     TBD

**Test and Validate**:
   - Run the pipeline and validate the generated SPDX files for accuracy and completeness.
   - Compare SBOM results with latest official release in Corona

### Step 4: Full Rollout

**Document the Integration Process**:
   - Create comprehensive documentation detailing the integration process.
   - Include example configurations and troubleshooting tips.

**Train Engineering Teams**:
   - Conduct training sessions and workshops for the teams.
   - Provide hands-on demonstrations.

**Update All Pipelines**:
   - Roll out the integration to all projects for the related dev teams in the BU and update CI/CD pipelines.
   - Ensure each team follows the documented process.

### Step 5: Monitor and Maintain

**Monitor the Integration**:
   - Set up monitoring to ensure SPDX generation occurs as expected.
      - BU should monitor this
   - Use CI/CD tools' reporting features to track success rates.

**Regular Reviews**:
   - Conduct regular reviews of the generated SPDX documents.
      - BU Dev teams review with Corona team?
   - Address issues or discrepancies identified.

**Tool and Process Updates**:
   - Stay updated with new versions of SPDX tools.
      - Need to evaluate before upgrading
   - Continuously improve based on feedback and best practices.

### Step 6: Automate Compliance Checks 

**Integrate Compliance Tools**:
   - Integrate tools that analyze SPDX documents for compliance and security (e.g., OpenChain, OWASP Dependency-Check).
      - This may not exist yet, but is a stretch goal

**Automate Reporting**:
   - Automate compliance and security report generation.
   - Set up alerts for detected issues.
      - Stretch goal
      - Use automation to assist engineering?  Manual process will not work

### Step 7: Continuous Improvement

**Feedback Loop**:
   - Establish a feedback loop to gather insights and refine the process.
      - Stretch goal

**Innovate and Optimize**:
   - Explore opportunities to optimize the process.
   - Stay updated with new tools and technologies.
      - Use automation to assist engineering?  Manual process will not work


### Diagrams and Flow Charts

#### Overall Integration Flow
TBD

#### Detailed CI/CD Pipeline Integration Flow
TBD

### Tools Integration Example

For Jenkins, here’s a detailed view of the CI/CD pipeline configuration with SPDX integration:

TBD



